{"ast":null,"code":"import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import React,{useEffect}from\"react\";import{Accordion,Badge,Button,Card}from\"react-bootstrap\";import MainScreen from\"../../components/MainScreen\";import{Link}from\"react-router-dom\";import ReactMarkdown from\"react-markdown\";import{useDispatch,useSelector}from\"react-redux\";import{deleteNoteAction,listNotes}from\"../../actions/notesActions\";import Loading from\"../../components/Loading\";import ErrorMessage from\"../../components/ErrorMessage\";function MyNotes(_ref){var history=_ref.history,search=_ref.search;var dispatch=useDispatch();var noteList=useSelector(function(state){return state.noteList;});var loading=noteList.loading,error=noteList.error,notes=noteList.notes;// const filteredNotes = notes.filter((note) =>\n//   note.title.toLowerCase().includes(search.toLowerCase())\n// );\nvar userLogin=useSelector(function(state){return state.userLogin;});var userInfo=userLogin.userInfo;var noteDelete=useSelector(function(state){return state.noteDelete;});var loadingDelete=noteDelete.loading,errorDelete=noteDelete.error,successDelete=noteDelete.success;var noteCreate=useSelector(function(state){return state.noteCreate;});var successCreate=noteCreate.success;var noteUpdate=useSelector(function(state){return state.noteUpdate;});var successUpdate=noteUpdate.success;useEffect(function(){dispatch(listNotes());if(!userInfo){history.push(\"/\");}},[dispatch,history,userInfo,successDelete,successCreate,successUpdate]);var deleteHandler=function deleteHandler(id){if(window.confirm(\"Are you sure?\")){dispatch(deleteNoteAction(id));}};return/*#__PURE__*/_jsxs(MainScreen,{title:\"Welcome Back \".concat(userInfo&&userInfo.name,\"..\"),children:[console.log(notes),/*#__PURE__*/_jsx(Link,{to:\"/createnote\",children:/*#__PURE__*/_jsx(Button,{style:{marginLeft:10,marginBottom:6},size:\"lg\",children:\"Create new Note\"})}),error&&/*#__PURE__*/_jsx(ErrorMessage,{variant:\"danger\",children:error}),errorDelete&&/*#__PURE__*/_jsx(ErrorMessage,{variant:\"danger\",children:errorDelete}),loading&&/*#__PURE__*/_jsx(Loading,{}),loadingDelete&&/*#__PURE__*/_jsx(Loading,{}),notes&&notes.filter(function(filteredNote){return filteredNote.title.toLowerCase().includes(search.toLowerCase());}).reverse().map(function(note){return/*#__PURE__*/_jsx(Accordion,{children:/*#__PURE__*/_jsxs(Card,{style:{margin:10},children:[/*#__PURE__*/_jsxs(Card.Header,{style:{display:\"flex\"},children:[/*#__PURE__*/_jsx(\"span\",{// onClick={() => ModelShow(note)}\nstyle:{color:\"black\",textDecoration:\"none\",flex:1,cursor:\"pointer\",alignSelf:\"center\",fontSize:18},children:/*#__PURE__*/_jsx(Accordion.Toggle,{as:Card.Text,variant:\"link\",eventKey:\"0\",children:note.title})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Button,{href:\"/note/\".concat(note._id),children:\"Edit\"}),/*#__PURE__*/_jsx(Button,{variant:\"danger\",className:\"mx-2\",onClick:function onClick(){return deleteHandler(note._id);},children:\"Delete\"})]})]}),/*#__PURE__*/_jsx(Accordion.Collapse,{eventKey:\"0\",children:/*#__PURE__*/_jsxs(Card.Body,{children:[/*#__PURE__*/_jsx(\"h4\",{children:/*#__PURE__*/_jsxs(Badge,{variant:\"success\",children:[\"Category - \",note.category]})}),/*#__PURE__*/_jsxs(\"blockquote\",{className:\"blockquote mb-0\",children:[/*#__PURE__*/_jsx(ReactMarkdown,{children:note.content}),/*#__PURE__*/_jsxs(\"footer\",{className:\"blockquote-footer\",children:[\"Created on\",\" \",/*#__PURE__*/_jsx(\"cite\",{title:\"Source Title\",children:note.createdAt.substring(0,10)})]})]})]})})]},note._id)});})]});}export default MyNotes;","map":{"version":3,"sources":["/home/shashikant/Desktop/notezipper-master/frontend/src/screens/MyNotes/MyNotes.js"],"names":["React","useEffect","Accordion","Badge","Button","Card","MainScreen","Link","ReactMarkdown","useDispatch","useSelector","deleteNoteAction","listNotes","Loading","ErrorMessage","MyNotes","history","search","dispatch","noteList","state","loading","error","notes","userLogin","userInfo","noteDelete","loadingDelete","errorDelete","successDelete","success","noteCreate","successCreate","noteUpdate","successUpdate","push","deleteHandler","id","window","confirm","name","console","log","marginLeft","marginBottom","filter","filteredNote","title","toLowerCase","includes","reverse","map","note","margin","display","color","textDecoration","flex","cursor","alignSelf","fontSize","Text","_id","category","content","createdAt","substring"],"mappings":"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","sourcesContent":["import React, { useEffect } from \"react\";\nimport { Accordion, Badge, Button, Card } from \"react-bootstrap\";\nimport MainScreen from \"../../components/MainScreen\";\nimport { Link } from \"react-router-dom\";\nimport ReactMarkdown from \"react-markdown\";\n\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { deleteNoteAction, listNotes } from \"../../actions/notesActions\";\nimport Loading from \"../../components/Loading\";\nimport ErrorMessage from \"../../components/ErrorMessage\";\n\nfunction MyNotes({ history, search }) {\n  const dispatch = useDispatch();\n\n  const noteList = useSelector((state) => state.noteList);\n  const { loading, error, notes } = noteList;\n\n  // const filteredNotes = notes.filter((note) =>\n  //   note.title.toLowerCase().includes(search.toLowerCase())\n  // );\n\n  const userLogin = useSelector((state) => state.userLogin);\n  const { userInfo } = userLogin;\n\n  const noteDelete = useSelector((state) => state.noteDelete);\n  const {\n    loading: loadingDelete,\n    error: errorDelete,\n    success: successDelete,\n  } = noteDelete;\n\n  const noteCreate = useSelector((state) => state.noteCreate);\n  const { success: successCreate } = noteCreate;\n\n  const noteUpdate = useSelector((state) => state.noteUpdate);\n  const { success: successUpdate } = noteUpdate;\n\n  useEffect(() => {\n    dispatch(listNotes());\n    if (!userInfo) {\n      history.push(\"/\");\n    }\n  }, [\n    dispatch,\n    history,\n    userInfo,\n    successDelete,\n    successCreate,\n    successUpdate,\n  ]);\n\n  const deleteHandler = (id) => {\n    if (window.confirm(\"Are you sure?\")) {\n      dispatch(deleteNoteAction(id));\n    }\n  };\n\n  return (\n    <MainScreen title={`Welcome Back ${userInfo && userInfo.name}..`}>\n      {console.log(notes)}\n      <Link to=\"/createnote\">\n        <Button style={{ marginLeft: 10, marginBottom: 6 }} size=\"lg\">\n          Create new Note\n        </Button>\n      </Link>\n      {error && <ErrorMessage variant=\"danger\">{error}</ErrorMessage>}\n      {errorDelete && (\n        <ErrorMessage variant=\"danger\">{errorDelete}</ErrorMessage>\n      )}\n      {loading && <Loading />}\n      {loadingDelete && <Loading />}\n      {notes &&\n        notes\n          .filter((filteredNote) =>\n            filteredNote.title.toLowerCase().includes(search.toLowerCase())\n          )\n          .reverse()\n          .map((note) => (\n            <Accordion>\n              <Card style={{ margin: 10 }} key={note._id}>\n                <Card.Header style={{ display: \"flex\" }}>\n                  <span\n                    // onClick={() => ModelShow(note)}\n                    style={{\n                      color: \"black\",\n                      textDecoration: \"none\",\n                      flex: 1,\n                      cursor: \"pointer\",\n                      alignSelf: \"center\",\n                      fontSize: 18,\n                    }}\n                  >\n                    <Accordion.Toggle\n                      as={Card.Text}\n                      variant=\"link\"\n                      eventKey=\"0\"\n                    >\n                      {note.title}\n                    </Accordion.Toggle>\n                  </span>\n\n                  <div>\n                    <Button href={`/note/${note._id}`}>Edit</Button>\n                    <Button\n                      variant=\"danger\"\n                      className=\"mx-2\"\n                      onClick={() => deleteHandler(note._id)}\n                    >\n                      Delete\n                    </Button>\n                  </div>\n                </Card.Header>\n                <Accordion.Collapse eventKey=\"0\">\n                  <Card.Body>\n                    <h4>\n                      <Badge variant=\"success\">\n                        Category - {note.category}\n                      </Badge>\n                    </h4>\n                    <blockquote className=\"blockquote mb-0\">\n                      <ReactMarkdown>{note.content}</ReactMarkdown>\n                      <footer className=\"blockquote-footer\">\n                        Created on{\" \"}\n                        <cite title=\"Source Title\">\n                          {note.createdAt.substring(0, 10)}\n                        </cite>\n                      </footer>\n                    </blockquote>\n                  </Card.Body>\n                </Accordion.Collapse>\n              </Card>\n            </Accordion>\n          ))}\n    </MainScreen>\n  );\n}\n\nexport default MyNotes;\n"]},"metadata":{},"sourceType":"module"}